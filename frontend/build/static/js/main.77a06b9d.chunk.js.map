{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/EntryForm.js","components/Auth.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","children","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","owner","_id","isLike","likes","some","user","src","link","alt","name","onClick","type","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","EntryForm","useState","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","handleSubmit","title","id","placeholder","required","noValidate","value","onChange","target","isLoading","buttonText","BASE_URL","login","fetch","method","headers","body","JSON","stringify","then","response","json","err","res","checkToken","token","Login","history","useHistory","auth","error","handleUpdateInfoTooltip","isSuccess","handleInfoTooltipShow","localStorage","setItem","data","handleUpdateEmail","handleLogged","push","catch","Register","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","ConfirmDeletePopup","onDeleteCard","ImagePopup","InfoTooltip","infoTooltipContent","ProtectedRoute","path","isLogged","api","baseUrl","this","_baseUrl","_profileUrl","_cardsUrl","_headers","url","headersObj","ok","Promise","reject","status","_createRequest","newData","cardData","idCard","like","authorization","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setIsLoading","setIsLogged","isOpenMenu","setIsOpenMenu","setCards","setInfoTooltipContent","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","getProfile","console","log","getItem","getInitialCards","handleEscDown","useCallback","key","closeAllPopups","window","addEventListener","removeEventListener","Provider","removeItem","isLiked","i","changeLikeCardStatus","newCard","state","c","userData","chahgeProfile","avatarData","onSuccess","changeAvatar","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77a06b9d.chunk.js","sourcesContent":["import React from 'react'; \nimport { Link } from 'react-router-dom'; \n\nfunction Header(props) {\n  return (\n    <header className=\"header page__header\">\n      <Link to=\"/\" className=\"header__logo\" />\n      {props.children}\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDeleteClick}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLike = card.likes.some(user => user._id === currentUser._id);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n\n  function handleCardDelete() {\n    onCardDeleteClick(card);\n  }\n\n  return (\n    <li className=\"place\">\n      <img src={card.link} alt={card.name} className=\"place__image\" onClick={handleClick} />\n      <div className=\"place__footer\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__like-container\">\n          <button type=\"button\" name=\"like-button\" className={`place__like-button ${isLike && 'place__like-button_active'}`} onClick={handleCardLike}></button>\n          <p className=\"place__like-count\">{card.likes.length}</p>\n        </div>\n      </div>\n      {isOwn && <button type=\"button\" name=\"trash-button\" className=\"place__trash-button\" onClick={handleCardDelete}></button>}\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  return (\n    <main>\n      <section className=\"profile page__profile\">\n        <button \n          className=\"profile__avatar\" \n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={props.onEditAvatar}\n        ></button>\n        <div className=\"profile__info\">\n          <div className=\"profile__title-wrapper\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button type=\"button\" name=\"edit-button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button \n          type=\"button\"\n          name=\"add-button\"\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"places page__places\">\n        <ul className=\"places__list\">\n        {props.cards.map((card) => (\n          <Card card={card} key={card._id} \n            onCardClick={props.onCardClick} \n            onCardLike={props.onCardLike}\n            onCardDeleteClick={props.onCardDeleteClick} \n          />\n        ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction EntryForm(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function emailChangeHandle(evt) {\n    setEmail(evt.target.value)\n  }\n\n  function passwordChangeHandle(evt) {\n    setPassword(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleSubmit({email, password});\n  } \n\n  return (\n    <div className=\"entry\">\n      <form name={props.name} className=\"entry__form\" onSubmit={handleSubmit}>\n        <h2 className=\"entry__title\">{props.title}</h2>\n        <fieldset className=\"entry__field-wrap\">\n          <input type=\"email\" id=\"email-field\" className=\"entry__form-field\" name=\"email\"\n          placeholder=\"Email\" required noValidate value={email} onChange={emailChangeHandle} />\n          <span className=\"email-field-error entry__error\"></span>\n          <input type=\"password\" id=\"password-field\" className=\"entry__form-field\" name=\"password\"\n          placeholder=\"Пароль\" required noValidate value={password} onChange={passwordChangeHandle} />\n          <span className=\"about-field-error entry__error\"></span>\n        </fieldset>\n        <input \n          type=\"submit\" \n          className={\"entry__submit-button\"} \n          value={props.isLoading ? 'Вход...' : props.buttonText} />\n      </form>\n      {props.children}\n    </div>\n  );\n}\n\nexport default EntryForm;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport function register({password, email}) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json' \n    },\n    body: JSON.stringify({password, email})\n  })\n  .then((response) => {\n    try {\n      return response.json();\n    } catch(err) {\n      return err;\n    }\n  })\n  .then((res) => {return res})\n}\n\nexport function login({password, email}) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json' \n    },\n    body: JSON.stringify({password, email})\n  })\n  .then((response) => {\n    try {\n      return response.json();\n    } catch(err) {\n      return err;\n    }\n  })\n  .then((res) => {return res})\n}\n\nexport function checkToken(token) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${token}`\n    },\n  })\n  .then((response) => {\n    try {\n      return response.json();\n    } catch(err) {\n      return err;\n    }\n  })\n  .then((res) => {return res})\n}\n","import { useHistory } from 'react-router-dom';\nimport EntryForm from './EntryForm';\nimport * as auth from './Auth';\n\nfunction Login(props) {\n  const history = useHistory();\n\n  function handleSubmit({email, password}) {\n    auth.login({email, password})\n      .then((res) => {\n        if (res.error) {\n          props.handleUpdateInfoTooltip({title: res.error, isSuccess: false});\n          props.handleInfoTooltipShow();\n        } else {\n          localStorage.setItem('token', res.token);\n          auth.checkToken(res.token)\n            .then((res) => {\n              if (res.data) {\n                props.handleUpdateEmail(res.data.email);\n                props.handleLogged();\n                history.push('/');\n              } else {\n                props.handleUpdateInfoTooltip({title: 'Что-то пошло не так! Попробуйте ещё раз.', isSuccess: false});\n                props.handleInfoTooltipShow();\n              }\n            });\n        }\n      })\n      .catch(() => {\n        props.handleUpdateInfoTooltip({title: 'Что-то пошло не так! Попробуйте ещё раз.', isSuccess: false});\n        props.handleInfoTooltipShow();\n      })\n  }\n\n  return (\n    <EntryForm name=\"login\" title=\"Вход\" buttonText=\"Войти\" handleSubmit={handleSubmit} />\n  );\n}\n\nexport default Login;","import { useHistory } from 'react-router-dom';\nimport EntryForm from './EntryForm';\nimport * as auth from './Auth';\nimport { Link } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Register(props) {\n  const history = useHistory();\n\n  function handleSubmit({email, password}) {\n    auth.register({email, password})\n      .then((res) => {\n        if (res.error) {\n          props.handleUpdateInfoTooltip({title: res.error, isSuccess: false});\n          props.handleInfoTooltipShow();\n        } else {\n          props.handleUpdateEmail(res.data.email);\n          props.handleUpdateInfoTooltip({title: 'Вы успешно зарегистрировались!', isSuccess: true});\n          props.handleInfoTooltipShow();\n          auth.login({email, password}).then((res) => {\n            localStorage.setItem('token', res.token);\n          })\n          props.handleLogged();\n          history.push('/');\n        }\n      })\n      .catch(() => {\n        props.handleUpdateInfoTooltip({title: 'Что-то пошло не так! Попробуйте ещё раз.', isSuccess: false});\n        props.handleInfoTooltipShow();\n      })\n  }\n\n  return (\n    <EntryForm name=\"register\" title=\"Регистрация\" buttonText=\"Зарегистрироваться\" handleSubmit={handleSubmit}>\n      <p className=\"entry__caption\">Уже зарегистрированы? <Link className=\"entry__link\" to=\"/sign-in\">Войти</Link></p>\n    </EntryForm>\n  );\n}\nexport default Register;","function Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}. Егор Бичурин</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <form name={props.name} className=\"popup__form\" onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <input \n            type=\"submit\" \n            className={`popup__submit-button popup__submit-button_type_${props.name}`} \n            value={props.isLoading ? 'Сохранение...' : props.buttonText} />\n        </form>\n        <button \n          type=\"button\" \n          name=\"close-button\" \n          className=\"popup__close-button\"\n          onClick={props.onClose}>\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// Оставил модификатор класса для кнопки отправки, так как есть отличия в стилях \n// попапов с полями и с подтверждением удаления карточки\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  \n  React.useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, props.isOpen]);\n\n  function nameChangeHandle(evt) {\n    setName(evt.target.value)\n  }\n\n  function descriptionChangeHandle(evt) {\n    setDescription(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  \n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" \n      isOpen={props.isOpen}\n      isLoading={props.isLoading}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__field-wrap\">\n        <input type=\"text\" id=\"name-field\" className=\"popup__form-field popup__form-field_type_name\" name=\"name\"\n        placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required noValidate value={name} onChange={nameChangeHandle} />\n        <span className=\"name-field-error popup__error\"></span>\n        <input type=\"text\" id=\"about-field\" className=\"popup__form-field popup__form-field_type_about\" name=\"about\"\n        placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required noValidate value={description} onChange={descriptionChangeHandle} />\n        <span className=\"about-field-error popup__error\"></span>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatar = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatar.current.value\n    }, () => avatar.current.value = '');\n  }\n\n  return (\n    <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" buttonText=\"Сохранить\" \n      isOpen={props.isOpen} \n      isLoading={props.isLoading}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}   \n    >\n      <fieldset className=\"popup__field-wrap\">\n        <input type=\"url\" id=\"avatar-field\" className=\"popup__form-field\"\n        name=\"avatar\" placeholder=\"Ссылка на картинку\" required noValidate ref={avatar} />\n        <span className=\"avatar-field-error popup__error\"></span>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddPlace({name: title, link}, () => {\n      setTitle('');\n      setLink('');\n    })\n  }\n\n  function handleChangeTitle(evt) {\n    setTitle(evt.target.value);\n  }\n\n  function handleChangeLink(evt) {\n    setLink(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm name=\"add-place\" title=\"Новое место\" buttonText=\"Создать\" \n      isOpen={props.isOpen}\n      isLoading={props.isLoading}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__field-wrap\">\n        <input type=\"text\" id=\"title-field\" className=\"popup__form-field popup__form-field_type_add-place popup__form-field_type_title\"\n        name=\"title\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required noValidate value={title} onChange={handleChangeTitle} />\n        <span className=\"title-field-error popup__error\"></span>\n        <input type=\"url\" id=\"link-field\" className=\"popup__form-field popup__form-field_type_add-place popup__form-field_type_link\"\n        name=\"link\" placeholder=\"Ссылка на картинку\" required noValidate value={link} onChange={handleChangeLink} />\n        <span className=\"link-field-error popup__error\"></span>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmDeletePopup(props) {\n  function handleDeleteCard(evt) {\n    evt.preventDefault();\n    props.onDeleteCard(props.card);\n  }\n\n  return (\n    <PopupWithForm name=\"confirm-delete\" title=\"Вы уверены?\" buttonText=\"Да\"\n      isOpen={props.isOpen}\n      isLoading={props.isLoading}\n      onClose={props.onClose}\n      onSubmit={handleDeleteCard}\n    />\n  );\n}\n\nexport default ConfirmDeletePopup;","function ImagePopup({card, onClose}) {\n  return (\n    <div className={`popup popup_type_fullscreen-image ${card.link && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_fullscreen-image\">\n        <figure className=\"popup__figure\">\n          <img src={card.link} alt={card.name} className=\"popup__image\" />\n          <figcaption className=\"popup__image-caption\">{card.name}</figcaption>\n        </figure>\n        <button\n          type=\"button\" \n          name=\"close-button\" \n          className=\"popup__close-button popup__close-button_type_fullscreen-image\"\n          onClick={onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","function InfoTooltip(props) {\n  return (\n    <div className={`popup popup_type_infoTooltip ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_infoTooltip\">\n        <div className={`popup__status-icon ${props.infoTooltipContent.isSuccess ? '' : 'popup__status-icon_error'}`}></div>\n        <h2 className=\"popup__title popup__title_type_infoTooltip\">{props.infoTooltipContent.title}</h2>\n        <button \n          type=\"button\" \n          name=\"close-button\" \n          className=\"popup__close-button popup__close-button_type_infoTooltip\"\n          onClick={props.onClose}>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","import { Redirect, Route } from 'react-router-dom';\n\nfunction ProtectedRoute(props) {\n  return (\n    <Route path={props.path}>\n      {props.isLogged ? props.children : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._profileUrl = baseUrl + '/users/me';\n    this._cardsUrl = baseUrl + '/cards';\n    this._headers = headers;\n  }\n\n  _createRequest({url, headersObj, method, body}) {\n    return fetch(url, {method: method, headers: headersObj, body: body})\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  getProfile() {\n    return this._createRequest({\n      url: this._profileUrl,\n      headersObj: this._headers,\n      method: 'GET'})\n  }\n\n  getInitialCards() {\n    return this._createRequest({\n      url: this._cardsUrl,\n      headersObj: this._headers,\n      method: 'GET'})\n  }\n\n  chahgeProfile(newData) {\n    return this._createRequest({\n      url: this._profileUrl,\n      headersObj: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(newData)\n    })\n  }\n\n  changeAvatar(avatar) {\n    return this._createRequest({\n      url: `${this._profileUrl}/avatar`,\n      headersObj: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(avatar)\n    })\n  }\n\n  addNewCard(cardData) {\n    return this._createRequest({\n      url: this._cardsUrl,\n      headersObj: this._headers,\n      method: 'POST',\n      body: JSON.stringify(cardData)\n    })\n  }\n\n  deleteCard(idCard) {\n    return this._createRequest({\n      url: `${this._cardsUrl}/${idCard}`,\n      headersObj: this._headers,\n      method: 'DELETE'\n    })\n  }\n\n  changeLikeCardStatus(idCard, like) {\n    return this._createRequest({\n      url: `${this._cardsUrl}/likes/${idCard}`,\n      headersObj: this._headers,\n      method: like ? 'PUT' : 'DELETE'\n    })\n  }\n}\n\nconst apiOptions = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\n  headers: {\n    authorization: '73878bf0-187e-4ea2-beea-67c91647b84f',\n    'Content-Type': 'application/json'\n  }\n};\n\nconst api = new Api(apiOptions);\nexport default api;","/* \nПрошу прощения за очень неструктуированный и повторяющийся код. \nДелал работу в спешке, не успел провести нормальный рефакторинг.\nЗаранее спасибо за проверку!\n*/\n\nimport React from 'react';\nimport { Switch, Route, Link, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport api from '../utils/api';\nimport * as auth from './Auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [email, setEmail] = React.useState('');\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isLogged, setIsLogged] = React.useState(false);\n  const [isOpenMenu, setIsOpenMenu] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [infoTooltipContent, setInfoTooltipContent] = React.useState({});\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cardToDelete, setCardToDelete] = React.useState({});  \n  \n  React.useEffect(() => {\n    api.getProfile()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n    \n    if(localStorage.getItem('token')) {\n      auth.checkToken(localStorage.getItem('token'))\n        .then((res) => {\n          if (res.data) {\n            handleUpdateEmail(res.data.email);\n            handleLogged();\n            history.push('/');\n          }\n        });\n    }\n    \n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  \n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => console.log(err));\n  }\n  \n  function handleCardDelete(card) {\n    setIsLoading(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  \n  function handleUpdateUser(userData) {\n    setIsLoading(true);\n    api.chahgeProfile(userData)\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(avatarData, onSuccess) {\n    setIsLoading(true);\n    api.changeAvatar(avatarData)\n      .then((newData) => {\n        setCurrentUser(newData);\n        onSuccess();\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateEmail(email) {\n    setEmail(email);\n  }\n\n  function handleAddPlaceSubmit(cardData, onSuccess) {\n    setIsLoading(true);\n    api.addNewCard(cardData)\n      .then((card) => {\n        setCards([card, ...cards]);\n        onSuccess();\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateInfoTooltip(data) {\n    setInfoTooltipContent(data);\n  }\n\n  function handleLogged() {\n    setIsLogged(true);\n  }\n\n  function handleLogout() {\n    setIsLogged(false);\n  }\n\n  function handleDeleteToken() {\n    localStorage.removeItem('token');\n    setEmail('');\n    handleLogout();\n    history.push('/sign-in');\n  }\n\n  const handleEscDown = React.useCallback((evt) => {\n    evt.key === 'Escape' && closeAllPopups();\n  }, [])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    window.addEventListener('keydown', handleEscDown);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    window.addEventListener('keydown', handleEscDown);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    window.addEventListener('keydown', handleEscDown);\n  }\n\n  function handleCardDeleteClick(card) {\n    setIsConfirmDeletePopupOpen(true);\n    setCardToDelete(card);\n    window.addEventListener('keydown', handleEscDown);\n  }\n\n  function handleInfoTooltipShow() {\n    setIsInfoTooltipPopupOpen(true);\n    window.addEventListener('keydown', handleEscDown);\n  }\n\n  function handleCardClick({link, name}) {\n    setSelectedCard({\n      link: link,\n      name: name\n    });\n    window.addEventListener('keydown', handleEscDown);\n  }\n\n  function handleClickMenu() {\n    setIsOpenMenu(!isOpenMenu);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setIsLoading(false);\n    setIsInfoTooltipPopupOpen(false);\n    window.removeEventListener('keydown', handleEscDown);\n    setSelectedCard({});\n    setCardToDelete({});\n  }\n\n  return (\n    <div className=\"page__content\">\n      <CurrentUserContext.Provider value={ currentUser }>\n        \n        <Switch>\n          <Route path=\"/sign-in\">\n            <Header>\n              <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\n            </Header>\n            <Login handleInfoTooltipShow={handleInfoTooltipShow} handleUpdateInfoTooltip={handleUpdateInfoTooltip} handleUpdateEmail={handleUpdateEmail} handleLogged={handleLogged} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Header>\n              <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>\n            </Header>\n            <Register handleInfoTooltipShow={handleInfoTooltipShow} handleUpdateInfoTooltip={handleUpdateInfoTooltip} handleUpdateEmail={handleUpdateEmail} handleLogged={handleLogged} />\n          </Route>\n          <ProtectedRoute path=\"/\" isLogged={isLogged}>\n            <Header>\n              <div className={`header__container ${isOpenMenu ? 'header__container_active' : ''}`}>\n                <p className=\"header__login\">{email}</p>\n                <button className=\"header__logout-button\" onClick={handleDeleteToken}>Выйти</button>\n              </div>\n              <button className={`header__menu-button ${isOpenMenu ? 'header__menu-button_active' : ''} `}onClick={handleClickMenu}></button>\n            </Header>\n            <Main\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDeleteClick={handleCardDeleteClick}\n              onCardClick={handleCardClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n            />\n          </ProtectedRoute>\n        </Switch>\n        \n        <Footer />\n\n        <section className=\"popups\">\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} isLoading={isLoading} onUpdateUser={handleUpdateUser}/>\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} isLoading={isLoading} onUpdateAvatar={handleUpdateAvatar}/>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} isLoading={isLoading} onAddPlace={handleAddPlaceSubmit}/>\n          <ConfirmDeletePopup isOpen={isConfirmDeletePopupOpen} isLoading={isLoading} card={cardToDelete} onClose={closeAllPopups} onDeleteCard={handleCardDelete}/>\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} infoTooltipContent={infoTooltipContent} />\n        </section>\n      </CurrentUserContext.Provider>\n  </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}