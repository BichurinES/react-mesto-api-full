{"ast":null,"code":"import _slicedToArray from\"/Users/egorbicurin/Library/Mobile Documents/com~apple~CloudDocs/\\u042F\\u043D\\u0434\\u0435\\u043A\\u0441.\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/mesto-react-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];React.useEffect(function(){if(currentUser.name&&currentUser.about){setName(currentUser.name);setDescription(currentUser.about);}},[currentUser,props.isOpen]);function nameChangeHandle(evt){setName(evt.target.value);}function descriptionChangeHandle(evt){setDescription(evt.target.value);}function handleSubmit(evt){evt.preventDefault();props.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:props.isOpen,isLoading:props.isLoading,onClose:props.onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__field-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name-field\",className:\"popup__form-field popup__form-field_type_name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,noValidate:true,value:name,onChange:nameChangeHandle}),/*#__PURE__*/_jsx(\"span\",{className:\"name-field-error popup__error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"about-field\",className:\"popup__form-field popup__form-field_type_about\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",required:true,noValidate:true,value:description,onChange:descriptionChangeHandle}),/*#__PURE__*/_jsx(\"span\",{className:\"about-field-error popup__error\"})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/egorbicurin/Library/Mobile Documents/com~apple~CloudDocs/Яндекс.Практикум/mesto-react-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","isOpen","nameChangeHandle","evt","target","value","descriptionChangeHandle","handleSubmit","preventDefault","onUpdateUser","isLoading","onClose"],"mappings":"mSAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CAEA,oBAAwBF,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEAX,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpB,GAAIP,WAAW,CAACG,IAAZ,EAAoBH,WAAW,CAACQ,KAApC,CAA2C,CACzCJ,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACQ,KAAb,CAAd,CACD,CACF,CALD,CAKG,CAACR,WAAD,CAAcD,KAAK,CAACU,MAApB,CALH,EAOA,QAASC,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC7BP,OAAO,CAACO,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CACpCL,cAAc,CAACK,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,GAAtB,CAA2B,CACzBA,GAAG,CAACK,cAAJ,GAEAjB,KAAK,CAACkB,YAAN,CAAmB,CACjBd,IAAI,CAAJA,IADiB,CAEjBK,KAAK,CAAEH,WAFU,CAAnB,EAID,CAED,mBACE,KAAC,aAAD,EAAe,IAAI,CAAC,cAApB,CAAmC,KAAK,CAAC,2HAAzC,CAAiE,UAAU,CAAC,wDAA5E,CACE,MAAM,CAAEN,KAAK,CAACU,MADhB,CAEE,SAAS,CAAEV,KAAK,CAACmB,SAFnB,CAGE,OAAO,CAAEnB,KAAK,CAACoB,OAHjB,CAIE,QAAQ,CAAEJ,YAJZ,uBAME,kBAAU,SAAS,CAAC,mBAApB,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,YAAtB,CAAmC,SAAS,CAAC,+CAA7C,CAA6F,IAAI,CAAC,MAAlG,CACA,WAAW,CAAC,oBADZ,CACkB,SAAS,CAAC,GAD5B,CACgC,SAAS,CAAC,IAD1C,CAC+C,QAAQ,KADvD,CACwD,UAAU,KADlE,CACmE,KAAK,CAAEZ,IAD1E,CACgF,QAAQ,CAAEO,gBAD1F,EADF,cAGE,aAAM,SAAS,CAAC,+BAAhB,EAHF,cAIE,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,aAAtB,CAAoC,SAAS,CAAC,gDAA9C,CAA+F,IAAI,CAAC,OAApG,CACA,WAAW,CAAC,iCADZ,CACqB,SAAS,CAAC,GAD/B,CACmC,SAAS,CAAC,KAD7C,CACmD,QAAQ,KAD3D,CAC4D,UAAU,KADtE,CACuE,KAAK,CAAEL,WAD9E,CAC2F,QAAQ,CAAES,uBADrG,EAJF,cAME,aAAM,SAAS,CAAC,gCAAhB,EANF,GANF,EADF,CAiBD,CAED,cAAehB,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  \n  React.useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, props.isOpen]);\n\n  function nameChangeHandle(evt) {\n    setName(evt.target.value)\n  }\n\n  function descriptionChangeHandle(evt) {\n    setDescription(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  \n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" \n      isOpen={props.isOpen}\n      isLoading={props.isLoading}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__field-wrap\">\n        <input type=\"text\" id=\"name-field\" className=\"popup__form-field popup__form-field_type_name\" name=\"name\"\n        placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required noValidate value={name} onChange={nameChangeHandle} />\n        <span className=\"name-field-error popup__error\"></span>\n        <input type=\"text\" id=\"about-field\" className=\"popup__form-field popup__form-field_type_about\" name=\"about\"\n        placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required noValidate value={description} onChange={descriptionChangeHandle} />\n        <span className=\"about-field-error popup__error\"></span>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}