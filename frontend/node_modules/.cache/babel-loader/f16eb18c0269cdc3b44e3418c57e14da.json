{"ast":null,"code":"class Api {\n  constructor(baseUrl) {\n    this._id = _id;\n    this._baseUrl = baseUrl;\n    this._profileUrl = baseUrl + '/users/me';\n    this._cardsUrl = baseUrl + '/cards';\n    this._headers = {\n      authorization: this._id,\n      'Content-Type': 'application/json'\n    };\n  }\n\n  _createRequest({\n    url,\n    headersObj,\n    method,\n    body\n  }) {\n    return fetch(url, {\n      method: method,\n      headers: headersObj,\n      body: body\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getProfile(_id) {\n    return this._createRequest({\n      url: this._profileUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    });\n  }\n\n  getInitialCards(_id) {\n    return this._createRequest({\n      url: this._cardsUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    });\n  }\n\n  chahgeProfile(_id, newData) {\n    return this._createRequest({\n      url: this._profileUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify(newData)\n    });\n  }\n\n  changeAvatar(_id, avatar) {\n    return this._createRequest({\n      url: `${this._profileUrl}/avatar`,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify(avatar)\n    });\n  }\n\n  addNewCard(_id, cardData) {\n    return this._createRequest({\n      url: this._cardsUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(cardData)\n    });\n  }\n\n  deleteCard(_id, idCard) {\n    return this._createRequest({\n      url: `${this._cardsUrl}/${idCard}`,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'DELETE'\n    });\n  }\n\n  changeLikeCardStatus(_id, idCard, like) {\n    return this._createRequest({\n      url: `${this._cardsUrl}/likes/${idCard}`,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: like ? 'PUT' : 'DELETE'\n    });\n  }\n\n}\n\nconst baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-20';\nconst api = new Api(baseUrl);\nexport default api;","map":{"version":3,"sources":["/Users/egor_bichurin/Library/Mobile Documents/com~apple~CloudDocs/Яндекс.Практикум/mesto-react-auth/src/utils/api.js"],"names":["Api","constructor","baseUrl","_id","_baseUrl","_profileUrl","_cardsUrl","_headers","authorization","_createRequest","url","headersObj","method","body","fetch","headers","then","res","ok","json","Promise","reject","status","getProfile","getInitialCards","chahgeProfile","newData","JSON","stringify","changeAvatar","avatar","addNewCard","cardData","deleteCard","idCard","changeLikeCardStatus","like","api"],"mappings":"AAAA,MAAMA,GAAN,CAAU;AACRC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKC,QAAL,GAAgBF,OAAhB;AACA,SAAKG,WAAL,GAAmBH,OAAO,GAAG,WAA7B;AACA,SAAKI,SAAL,GAAiBJ,OAAO,GAAG,QAA3B;AACA,SAAKK,QAAL,GAAgB;AACdC,MAAAA,aAAa,EAAE,KAAKL,GADN;AAEd,sBAAgB;AAFF,KAAhB;AAID;;AAEDM,EAAAA,cAAc,CAAC;AAACC,IAAAA,GAAD;AAAMC,IAAAA,UAAN;AAAkBC,IAAAA,MAAlB;AAA0BC,IAAAA;AAA1B,GAAD,EAAkC;AAC9C,WAAOC,KAAK,CAACJ,GAAD,EAAM;AAACE,MAAAA,MAAM,EAAEA,MAAT;AAAiBG,MAAAA,OAAO,EAAEJ,UAA1B;AAAsCE,MAAAA,IAAI,EAAEA;AAA5C,KAAN,CAAL,CACJG,IADI,CACEC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACC,EAAR,EAAY;AACV,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AAED,aAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;AACD,KAPI,CAAP;AAQD;;AAEDC,EAAAA,UAAU,CAACpB,GAAD,EAAM;AACd,WAAO,KAAKM,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAE,KAAKL,WADe;AAEzBM,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAE;AANiB,KAApB,CAAP;AAOD;;AAEDY,EAAAA,eAAe,CAACrB,GAAD,EAAM;AACnB,WAAO,KAAKM,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAE,KAAKJ,SADe;AAEzBK,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAE;AANiB,KAApB,CAAP;AAOD;;AAEDa,EAAAA,aAAa,CAACtB,GAAD,EAAMuB,OAAN,EAAe;AAC1B,WAAO,KAAKjB,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAE,KAAKL,WADe;AAEzBM,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAE,OANiB;AAOzBC,MAAAA,IAAI,EAAEc,IAAI,CAACC,SAAL,CAAeF,OAAf;AAPmB,KAApB,CAAP;AASD;;AAEDG,EAAAA,YAAY,CAAC1B,GAAD,EAAM2B,MAAN,EAAc;AACxB,WAAO,KAAKrB,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAG,GAAE,KAAKL,WAAY,SADA;AAEzBM,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAE,OANiB;AAOzBC,MAAAA,IAAI,EAAEc,IAAI,CAACC,SAAL,CAAeE,MAAf;AAPmB,KAApB,CAAP;AASD;;AAEDC,EAAAA,UAAU,CAAC5B,GAAD,EAAM6B,QAAN,EAAgB;AACxB,WAAO,KAAKvB,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAE,KAAKJ,SADe;AAEzBK,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAE,MANiB;AAOzBC,MAAAA,IAAI,EAAEc,IAAI,CAACC,SAAL,CAAeI,QAAf;AAPmB,KAApB,CAAP;AASD;;AAEDC,EAAAA,UAAU,CAAC9B,GAAD,EAAM+B,MAAN,EAAc;AACtB,WAAO,KAAKzB,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAG,GAAE,KAAKJ,SAAU,IAAG4B,MAAO,EADR;AAEzBvB,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAE;AANiB,KAApB,CAAP;AAQD;;AAEDuB,EAAAA,oBAAoB,CAAChC,GAAD,EAAM+B,MAAN,EAAcE,IAAd,EAAoB;AACtC,WAAO,KAAK3B,cAAL,CAAoB;AACzBC,MAAAA,GAAG,EAAG,GAAE,KAAKJ,SAAU,UAAS4B,MAAO,EADd;AAEzBvB,MAAAA,UAAU,EAAE;AACVH,QAAAA,aAAa,EAAEL,GADL;AAEV,wBAAgB;AAFN,OAFa;AAMzBS,MAAAA,MAAM,EAAEwB,IAAI,GAAG,KAAH,GAAW;AANE,KAApB,CAAP;AAQD;;AAnGO;;AAsGV,MAAMlC,OAAO,GAAG,6CAAhB;AAEA,MAAMmC,GAAG,GAAG,IAAIrC,GAAJ,CAAQE,OAAR,CAAZ;AACA,eAAemC,GAAf","sourcesContent":["class Api {\n  constructor(baseUrl) {\n    this._id = _id;\n    this._baseUrl = baseUrl;\n    this._profileUrl = baseUrl + '/users/me';\n    this._cardsUrl = baseUrl + '/cards';\n    this._headers = {\n      authorization: this._id,\n      'Content-Type': 'application/json'\n    };\n  }\n\n  _createRequest({url, headersObj, method, body}) {\n    return fetch(url, {method: method, headers: headersObj, body: body})\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  getProfile(_id) {\n    return this._createRequest({\n      url: this._profileUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'})\n  }\n\n  getInitialCards(_id) {\n    return this._createRequest({\n      url: this._cardsUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'})\n  }\n\n  chahgeProfile(_id, newData) {\n    return this._createRequest({\n      url: this._profileUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify(newData)\n    })\n  }\n\n  changeAvatar(_id, avatar) {\n    return this._createRequest({\n      url: `${this._profileUrl}/avatar`,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify(avatar)\n    })\n  }\n\n  addNewCard(_id, cardData) {\n    return this._createRequest({\n      url: this._cardsUrl,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(cardData)\n    })\n  }\n\n  deleteCard(_id, idCard) {\n    return this._createRequest({\n      url: `${this._cardsUrl}/${idCard}`,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: 'DELETE'\n    })\n  }\n\n  changeLikeCardStatus(_id, idCard, like) {\n    return this._createRequest({\n      url: `${this._cardsUrl}/likes/${idCard}`,\n      headersObj: {\n        authorization: _id,\n        'Content-Type': 'application/json'\n      },\n      method: like ? 'PUT' : 'DELETE'\n    })\n  }\n}\n\nconst baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-20';\n\nconst api = new Api(baseUrl);\nexport default api;"]},"metadata":{},"sourceType":"module"}